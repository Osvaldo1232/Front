<div class="container-fluid py-4">
  <div class="row">
    <div class="col-12">
      <h2 class="text-uppercase mb-1 titulo-h2">Materias asignadas</h2>
      <h5 class="text-muted mb-4 titulo-h5">
        Lista de Materias Asignadas a un grado
      </h5>
    </div>
  </div>

  <div class="card p-4 mb-5 shadow-lg form-card-padding">
    <div class="row g-4">
      <div class="col-md-4 col-sm-6">
        <label for="grado" class="form-label required-label">Grado:*</label>

        <!-- ✅ Ajuste menor:
             - Se agregó name="grado" (recomendado para ngModel)
             - El resto está perfecto -->
        <select
          id="grado"
          name="grado"
          class="form-select"
          [(ngModel)]="cicloEscolar"
          (change)="buscar()"
        >
          <option *ngFor="let grado of grados" [value]="grado.id">
            {{ grado.nombre }}
          </option>
        </select>
      </div>
    </div>
  </div>

  <div class="card p-4 shadow-lg table-grid-card">
    <div class="table-responsive">
      <table class="table table-striped table-hover grid-table align-middle">
        <thead class="grid-header text-white">
          <tr>
            <th class="col-th">NOMBRE GRADO</th>
            <th class="col-th">MATERIA</th>
            <th class="col-th">CAMPO FORMATIVO</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let alumno of ListaGM; let i = index"
            [class.row-alternate]="i % 2 === 1"
          >
            <td>{{ alumno.nombreGrado }}</td>
            <td>{{ alumno.nombreMateria }}</td>
            <td>{{ alumno.nombreCampoFormativo }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- ✅ Mantiene el loading -->
    <app-loading></app-loading>
  </div>
</div>
